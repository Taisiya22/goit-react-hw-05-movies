{"version":3,"file":"static/js/373.3c4211d8.chunk.js","mappings":"0LACA,EAAuB,wBAAvB,EAAsD,wBAAtD,EAAqF,wB,SCmBrF,EAlBmB,SAAC,GAAgB,IAAdA,EAAa,EAAbA,OACdC,GAAWC,EAAAA,EAAAA,MACjB,OACE,eAAIC,UAAWC,EAAf,SACGJ,EAAOK,KAAI,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,MAAOC,EAAd,EAAcA,KAAd,OACV,SAAC,KAAD,CACEL,UAAWC,EACXK,GAAE,kBAAaH,GACfI,MAAO,CAAEC,KAAMV,GAHjB,UAKE,eAAIE,UAAWC,EAAf,SACGG,GAASC,GADkBF,IANtB,KAajB,C,+LCjBKM,EAAU,mCAChB,SAEeC,IAAAA,OAAAA,EAAAA,MAAAA,KAAAA,UAAAA,CAAAA,SAAAA,IAAf,OAAeA,GAAAA,EAAAA,EAAAA,GAAAA,IAAAA,MAAf,oGACoBC,EAAAA,EAAAA,IAAA,qCAAwCF,IAD5D,cACQG,EADR,yBAESA,EAAIC,MAFb,2EAKeC,EAAe,GAAfA,OAAAA,EAAAA,MAAAA,KAAAA,UAAAA,CAAAA,SAAAA,IAAf,OAAeA,GAAAA,EAAAA,EAAAA,GAAAA,IAAAA,MAAf,WAA8BC,GAA9B,uFACoBJ,EAAAA,EAAAA,IAAA,+BACQF,EADR,iCACwCM,EADxC,YADpB,cACQH,EADR,yBAISA,EAAIC,MAJb,2EAOeG,EAAa,GAAbA,OAAAA,EAAAA,MAAAA,KAAAA,UAAAA,CAAAA,SAAAA,IAAf,OAAeA,GAAAA,EAAAA,EAAAA,GAAAA,IAAAA,MAAf,WAA4Bb,GAA5B,uFACoBQ,EAAAA,EAAAA,IAAA,gBAAmBR,EAAnB,oBAAiCM,EAAjC,oBADpB,cACQG,EADR,yBAESA,EAAIC,MAFb,2EAKeI,EAAgB,GAAhBA,OAAAA,EAAAA,MAAAA,KAAAA,UAAAA,CAAAA,SAAAA,IAAf,OAAeA,GAAAA,EAAAA,EAAAA,GAAAA,IAAAA,MAAf,WAA+Bd,GAA/B,uFACoBQ,EAAAA,EAAAA,IAAA,gBACPR,EADO,4BACeM,EADf,oBADpB,cACQG,EADR,yBAISA,EAAIC,MAJb,2EAOeK,EAAgB,GAAhBA,OAAAA,EAAAA,MAAAA,KAAAA,UAAAA,CAAAA,SAAAA,IAAf,OAAeA,GAAAA,EAAAA,EAAAA,GAAAA,IAAAA,MAAf,WAA+Bf,GAA/B,uFACoBQ,EAAAA,EAAAA,IAAA,gBACPR,EADO,4BACeM,EADf,2BADpB,cACQG,EADR,yBAISA,EAAIC,MAJb,kEA1BAF,EAAAA,EAAAA,SAAAA,QAAyB,+B,wKCFzB,EAA6B,0BAA7B,EAAuE,6BAAvE,EAAuH,gC,SC6DvH,EAtDe,WAAO,IAAD,EACnB,GAAwCQ,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACA,GAA4BC,EAAAA,EAAAA,UAAS,MAArC,eAAOzB,EAAP,KAAe0B,EAAf,KACA,GAAqBD,EAAAA,EAAAA,UAAS,MAArBE,GAAT,eACMC,EAAK,UAAGL,EAAaM,IAAI,gBAApB,QAAgC,IAE3CC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAa,mCAAG,WAAMb,GAAN,0EACN,KAAVU,EADgB,2EAIKX,EAAAA,EAAAA,IAAeC,GAJpB,UAIZc,EAJY,OAKlBN,EAAUM,EAASC,SACnBC,QAAQC,IAAIH,EAASC,QAAQG,QACG,IAA5BJ,EAASC,QAAQG,OAPH,wBAQhBC,IAAAA,OAAAA,QAAwB,qCARR,2BAWdL,EAASC,QAAQG,OAAS,GAC5BC,IAAAA,OAAAA,QAAA,uBAC2BL,EAASC,QAAQG,OAD5C,8BAZgB,kDAiBlBT,EAAS,EAAD,IACRU,IAAAA,OAAAA,QAAA,wCACmC,KAAMC,UAnBvB,0DAAH,sDAwBnBP,EAAcH,EACf,GAAE,CAACA,IASJ,OACE,6BACE,kBAAMW,SATW,SAAAC,GACnBA,EAAEC,iBACF,IAAMC,EAAOF,EAAEG,cACfnB,EAAgB,CAAEI,MAAOc,EAAKE,SAAShB,MAAMiB,MAAMC,SACnDJ,EAAKK,OACN,EAIiC5C,UAAWC,EAAzC,WACE,kBAAOD,UAAWC,EAAsB4C,KAAK,OAAOxC,KAAK,WACzD,mBAAQL,UAAWC,EAAmB4C,KAAK,SAA3C,UACE,SAAC,MAAD,CAAUC,MAAO,CAAEC,YAAa,UAGnClD,IAAU,SAACmD,EAAA,EAAD,CAAYnD,OAAQA,MAGpC,C","sources":["webpack://react-homework-template/./src/components/MovieList/MovieList.module.css?6db5","components/MovieList/MoviesList.jsx","components/services/api.jsx","webpack://react-homework-template/./src/pages/Movies/Movie.module.css?ed9b","pages/Movies/Movies.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"list\":\"MovieList_list__yjDCC\",\"link\":\"MovieList_link__+cn-g\",\"item\":\"MovieList_item__tDivI\"};","import { Link, useLocation } from 'react-router-dom';\nimport css from './MovieList.module.css';\nconst MoviesList = ({ movies }) => {\n  const location = useLocation();\n  return (\n    <ul className={css.list}>\n      {movies.map(({ id, title, name }) => (\n        <Link\n          className={css.link}\n          to={`/movies/${id}`}\n          state={{ from: location }}\n        >\n          <li className={css.item} key={id}>\n            {title || name}\n          </li>\n        </Link>\n      ))}\n    </ul>\n  );\n};\nexport default MoviesList;\n","import axios from 'axios';\n\nconst API_KEY = 'bac05ff424f5bb3299d7f1868da01dae';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\n\nasync function getTrendingMovies() {\n  const res = await axios.get(`trending/movie/day?api_key=${API_KEY}`);\n  return res.data;\n}\n\nasync function getSearchMovie(search) {\n  const res = await axios.get(\n    `search/movie?api_key=${API_KEY}&language=en-US&query=${search}&page=1`\n  );\n  return res.data;\n}\n\nasync function getMovieById(id) {\n  const res = await axios.get(`movie/${id}?api_key=${API_KEY}&language=en-US`);\n  return res.data;\n}\n\nasync function getMovieCredits(id) {\n  const res = await axios.get(\n    `movie/${id}/credits?api_key=${API_KEY}&language=en-US`\n  );\n  return res.data;\n}\n\nasync function getMovieRewievs(id) {\n  const res = await axios.get(\n    `movie/${id}/reviews?api_key=${API_KEY}&language=en-US&page=1`\n  );\n  return res.data;\n}\n\n\nexport {\n  getTrendingMovies,\n  getSearchMovie,\n  getMovieById,\n  getMovieCredits,\n  getMovieRewievs,\n};","// extracted by mini-css-extract-plugin\nexport default {\"searchForm\":\"Movie_searchForm__j8-bw\",\"searchFormBtn\":\"Movie_searchFormBtn__vf7II\",\"searchFormIinput\":\"Movie_searchFormIinput__5S9Gm\"};","import { useEffect, useState } from 'react';\nimport Notiflix from 'notiflix';\nimport { ImSearch } from 'react-icons/im';\nimport MoviesList from 'components/MovieList/MoviesList';\nimport { getSearchMovie } from 'components/services/api';\nimport { useSearchParams } from 'react-router-dom';\nimport css from './Movie.module.css';\n\nconst Movies = () => {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [movies, setMovies] = useState(null);\n  const [, setError] = useState(null);\n  const query = searchParams.get('query') ?? '';\n\n  useEffect(() => {\n    const getMovieInput = async search => {\n      if (query === '') return;\n\n      try {\n        const responce = await getSearchMovie(search);\n        setMovies(responce.results);\n        console.log(responce.results.length);\n        if (responce.results.length === 0) {\n          Notiflix.Notify.failure('Nothing was found on your request');\n          return;\n        }\n        if (responce.results.length > 0) {\n          Notiflix.Notify\n            .success(`We was found ${responce.results.length} movies on your request\n`);\n        }\n      } catch (error) {\n        setError(error);\n        Notiflix.Notify.failure(\n          `Whoops, something went wrong: ${error.message}`\n        );\n      }\n    };\n\n    getMovieInput(query);\n  }, [query]);\n  //  console.log(movies)\n  const handleSubmit = e => {\n    e.preventDefault();\n    const form = e.currentTarget;\n    setSearchParams({ query: form.elements.query.value.trim()});\n    form.reset();\n  };\n\n  return (\n    <main>\n      <form onSubmit={handleSubmit} className={css.searchForm}>\n        <input className={css.searchFormIinput} type=\"text\" name=\"query\" />\n        <button className={css.searchFormBtn} type=\"submit\">\n          <ImSearch style={{ marginRight: 8 }} />\n        </button>\n      </form>\n      {movies && <MoviesList movies={movies} />}\n    </main>\n  );\n};\n\nexport default Movies;\n"],"names":["movies","location","useLocation","className","css","map","id","title","name","to","state","from","API_KEY","getTrendingMovies","axios","res","data","getSearchMovie","search","getMovieById","getMovieCredits","getMovieRewievs","useSearchParams","searchParams","setSearchParams","useState","setMovies","setError","query","get","useEffect","getMovieInput","responce","results","console","log","length","Notiflix","message","onSubmit","e","preventDefault","form","currentTarget","elements","value","trim","reset","type","style","marginRight","MoviesList"],"sourceRoot":""}