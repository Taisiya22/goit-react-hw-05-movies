{"version":3,"file":"static/js/135.8828ee4f.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/pages/MovieDetails/MovieDetails.module.css?0c24","pages/MovieDetails/MovieDetails.jsx","services/api.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"MovieDetails_wrapper__YMWLn\",\"link\":\"MovieDetails_link__U+v+7\",\"text\":\"MovieDetails_text__RHcc4\",\"listLink\":\"MovieDetails_listLink__Cgi5s\",\"title\":\"MovieDetails_title__cUGs9\",\"linkNav\":\"MovieDetails_linkNav__0hbSW\"};","// import defaultImg from '../empty.png';\nimport { useEffect, useState, Suspense, useRef } from 'react';\nimport Notiflix from 'notiflix';\nimport { AiOutlineArrowLeft } from 'react-icons/ai';\nimport css from './MovieDetails.module.css';\nimport {\n  Link,\n  Outlet,\n  useParams,\n  useLocation,\n} from 'react-router-dom';\nimport { getMovieById } from 'services/api';\n\nconst MovieDetails = () => {\n  const [movie, setMovie] = useState({});\n  const [, setError] = useState(null);\n  const { movieId } = useParams();\n  const location = useLocation();\n  const backLinkLocation = location.state?.from ?? '/';\n\n  const detailInfo = useRef(null);\n\n  useEffect(() => {\n    const getMovieDetails = async movieId => {\n      try {\n        const responce = await getMovieById(movieId);\n        detailInfo.current = responce;\n        setMovie(detailInfo.current);\n        // setMovie(responce);\n        console.log(detailInfo.current);\n      } catch (error) {\n        setError(error);\n        Notiflix.Notify.failure(\n          `Whoops, something went wrong: ${error.message}`\n        );\n      }\n    };\n    getMovieDetails(movieId);\n  }, [movieId]);\n  console.log(movie);\n\n  return (\n    <main>\n      <p className={css.text}>\n        <Link to={backLinkLocation} className={css.link}>\n          <AiOutlineArrowLeft /> Go to back\n        </Link>\n      </p>\n\n      {detailInfo.current ? (\n        <>\n          <div className={css.wrapper}>\n            <img\n              src={`https://image.tmdb.org/t/p/w300${movie.poster_path}`}\n              alt={movie.title}\n            />\n            <div>\n              <h2>\n                {movie.title} ({movie.release_date.slice(0, 4)})\n              </h2>\n              <h4>User Score: {Math.round(movie.vote_average * 10)}%</h4>\n              <h4>Overview</h4>\n              <p>{movie.overview}</p>\n              <h4>Genres</h4>\n              <p>\n                {movie?.genres\n                  ?.map(gen => {\n                    return gen.name;\n                  })\n                  .join(' ')}\n              </p>\n            </div>\n          </div>\n          <h4 className={css.title}>Additional information</h4>\n          <ul className={css.listLink}>\n            <li key={movie.id}>\n              <Link className={css.linkNav} to={`/movies/${movie.id}/cast`}>\n                Cast\n              </Link>\n            </li>\n            <li key={movie.vote_average}>\n              <Link\n                className={css.linkNav}\n                to={`/movies/${movie.id}/reviews`}\n              >\n                Reviews\n              </Link>\n            </li>\n          </ul>\n        </>\n      ) : (\n        <p>Not found page</p>\n      )}\n      <Suspense fallback={<div>Loading...</div>}>\n        <Outlet />\n      </Suspense>\n    </main>\n  );\n};\n\nexport default MovieDetails;\n","import axios from 'axios';\n\nconst API_KEY = 'bac05ff424f5bb3299d7f1868da01dae';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\n\nasync function getTrendingMovies() {\n  const res = await axios.get(`trending/movie/day?api_key=${API_KEY}`);\n  return res.data;\n}\n\nasync function getSearchMovie(search) {\n  const res = await axios.get(\n    `search/movie?api_key=${API_KEY}&language=en-US&query=${search}&page=1`\n  );\n  return res.data;\n}\n\nasync function getMovieById(id) {\n  const res = await axios.get(`movie/${id}?api_key=${API_KEY}&language=en-US`);\n  return res.data;\n}\n\nasync function getMovieCredits(id) {\n  const res = await axios.get(\n    `movie/${id}/credits?api_key=${API_KEY}&language=en-US`\n  );\n  return res.data;\n}\n\nasync function getMovieRewievs(id) {\n  const res = await axios.get(\n    `movie/${id}/reviews?api_key=${API_KEY}&language=en-US&page=1`\n  );\n  return res.data;\n}\n\nexport {\n  getTrendingMovies,\n  getSearchMovie,\n  getMovieById,\n  getMovieCredits,\n  getMovieRewievs,\n};\n"],"names":["useState","movie","setMovie","setError","movieId","useParams","backLinkLocation","useLocation","state","from","detailInfo","useRef","useEffect","getMovieDetails","getMovieById","responce","current","console","log","Notiflix","message","className","css","to","src","poster_path","alt","title","release_date","slice","Math","round","vote_average","overview","genres","map","gen","name","join","id","Suspense","fallback","API_KEY","getTrendingMovies","axios","res","data","getSearchMovie","search","getMovieCredits","getMovieRewievs"],"sourceRoot":""}